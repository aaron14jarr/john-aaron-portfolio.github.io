<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<title>John Aaron â€” Portfolio</title>
<style>
:root{
  --bg: #eef1f5;
  --card: #fff;
  --accent: #0a6ed1;
  --muted: #6b7280;
}
*{box-sizing:border-box}
html,body{height:100%;}
body{
  margin:0;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  background:var(--bg);
  color:#0b1220;
  line-height:1.45;
  padding-bottom:40px;
}

#passwordScreen{
  position:fixed; inset:0;
  display:flex; align-items:center; justify-content:center;
  background:#ffffff;
  z-index:9999;
  padding:24px;
}
.overlayBox{
  width:100%; max-width:420px; text-align:center;
}
#viewPasswordInput{
  width:100%; padding:12px 14px; font-size:16px; border-radius:10px;
  border:1px solid #d1d5db; margin-top:10px;
}

.container{
  max-width:1000px; margin:28px auto; padding:16px;
}
.card{
  background:var(--card); border-radius:12px; padding:18px;
  box-shadow:0 8px 30px rgba(2,6,23,0.06); margin-bottom:16px;
}

.profile-pic{
  width:150px; height:150px; border-radius:50%; object-fit:cover;
  display:block; margin:0 auto 12px; border:4px solid rgba(2,6,23,0.04);
}

.social-item{display:flex;align-items:center;gap:12px;margin:8px 0}
.social-item img{width:28px;height:28px;border-radius:6px}

.controls{display:flex;gap:8px;flex-wrap:wrap;justify-content:center;margin-top:12px}

#removeMenu{
  position:fixed; left:50%; top:50%; transform:translate(-50%,-50%);
  background:white; padding:16px; border-radius:10px; box-shadow:0 10px 30px rgba(2,6,23,0.12);
  display:none; z-index:2000; width:90%; max-width:360px;
}

.btn{
  padding:10px 14px; border-radius:10px; border:none; cursor:pointer; font-weight:600;
  background:var(--accent); color:white;
}
.btn.ghost{background:transparent; color:var(--accent); border:1px solid rgba(10,110,209,0.12)}
.small{padding:8px 10px; font-size:14px}

@media (max-width:720px){
  .profile-pic{width:120px;height:120px}
  .overlayBox{padding:6px}
  .card{padding:14px}
}
.hidden{display:none!important;}
</style>
</head>
<body>

<div id="passwordScreen">
  <div class="overlayBox">
    <h1>WELCOME TO JOHN AARON'S PORTFOLIO</h1>
    <p style="color:var(--muted);margin-bottom:12px">Enter the password to view</p>
    <input id="viewPasswordInput" type="password" placeholder="Password">
    <div style="display:flex;gap:8px;justify-content:center;margin-top:12px">
      <button id="enterBtn" class="btn">Enter</button>
      <button id="togglePassBtn" class="btn ghost small">Show</button>
    </div>
    <p id="loginMsg" style="color:#d32f2f;height:20px;margin-top:10px"></p>
    <p style="margin-top:12px;color:var(--muted);font-size:13px">View Password: <b>stellotenebris</b></p>
  </div>
</div>

<main id="mainContent" class="hidden">
  <div class="container">

    <section class="card" aria-labelledby="profileHeading">
      <img id="profilePic" class="profile-pic" src="" alt="Profile photo">
      <div class="controls">
        <button id="uploadPicBtn" class="btn ghost small" style="display:none">Upload Photo</button>
        <button id="removePicBtn" class="btn ghost small" style="display:none">Remove Photo</button>
        <button id="editBtn" class="btn small">Edit</button>
        <button id="doneBtn" class="btn small" style="display:none">Done</button>
      </div>
      <h2>JOHN AARON R. RESURRECCION</h2>
    </section>

    <section class="card">
      <h3>About Me</h3>
      <p id="aboutText">I am John Aaron R. Resurreccion, a passionate and motivated individual who loves exploring technology.</p>
    </section>

    <section class="card">
      <h3>Socials</h3>
      <div id="socialList"></div>
      <div class="controls">
        <button id="addSocialBtn" class="btn small" style="display:none">Add Social</button>
        <button id="removeSocialBtn" class="btn small ghost" style="display:none">Remove Social</button>
      </div>
    </section>

    <section class="card">
      <h3>Contact</h3>
      <p id="contactText">Globe: 09562460068<br>Smart: 09423379576<br>Email: aaron14.jarr@gmail.com</p>
    </section>

  </div>
</main>

<div id="removeMenu">
  <h3>Select a Social to Remove</h3>
  <select id="socialSelect" style="width:100%;padding:10px;border-radius:8px;border:1px solid #e5e7eb"></select>
  <div style="margin-top:12px;display:flex;gap:8px;justify-content:flex-end">
    <button id="confirmRemoveBtn" class="btn small">Remove</button>
    <button id="cancelRemoveBtn" class="btn ghost small">Cancel</button>
  </div>
</div>

<script>
const VIEW_PASSWORD = "stellotenebris";
const EDIT_PASSWORD = "Johnaaron_rr04";

let isEditing = false;

const ICONS = {
  facebook:"https://cdn-icons-png.flaticon.com/512/733/733547.png",
  instagram:"https://cdn-icons-png.flaticon.com/512/2111/2111463.png",
  twitter:"https://cdn-icons-png.flaticon.com/512/733/733579.png",
  x:"https://cdn-icons-png.flaticon.com/512/733/733579.png",
  youtube:"https://cdn-icons-png.flaticon.com/512/1384/1384060.png",
  tiktok:"https://cdn-icons-png.flaticon.com/512/3046/3046121.png",
  linkedin:"https://cdn-icons-png.flaticon.com/512/174/174857.png",
  github:"https://cdn-icons-png.flaticon.com/512/733/733553.png"
};

function detectIcon(n){
  n=n.toLowerCase();
  for(const k in ICONS) if(n.includes(k)) return ICONS[k];
  return "https://cdn-icons-png.flaticon.com/512/565/565547.png";
}

function normalizeUrl(u){
  if(!u) return "";
  u=u.trim();
  if(u.startsWith("http://") || u.startsWith("https://")) return u;
  return "https://" + u;
}

function appendSocial(name,url,icon){
  const d=document.createElement("div");
  d.className="social-item";
  d.innerHTML=`<img src="${icon}"><a href="${url}" target="_blank"><span class="s-name">${name}</span></a>`;
  document.getElementById("socialList").appendChild(d);
}

function saveState(){
  const socials=[];
  document.querySelectorAll("#socialList .social-item").forEach(i=>{
    socials.push({
      name:i.querySelector(".s-name").innerText,
      url:i.querySelector("a").href,
      icon:i.querySelector("img").src
    });
  });

  const data={
    about:aboutText.innerText,
    contact:contactText.innerHTML,
    profilePic:profilePic.src,
    socials
  };
  localStorage.setItem("aaron_site",JSON.stringify(data));
}

function loadState(){
  const raw=localStorage.getItem("aaron_site");
  if(!raw) return;
  const d=JSON.parse(raw);

  aboutText.innerText=d.about;
  contactText.innerHTML=d.contact;
  if(d.profilePic) profilePic.src=d.profilePic;

  socialList.innerHTML="";
  d.socials.forEach(s=>appendSocial(s.name,s.url,s.icon));
}

enterBtn.onclick=()=>checkPassword();
viewPasswordInput.onkeydown=e=>{ if(e.key==="Enter") checkPassword(); };

function checkPassword(){
  if(viewPasswordInput.value===VIEW_PASSWORD){
    passwordScreen.style.display="none";
    mainContent.classList.remove("hidden");
    loadState();
  } else loginMsg.textContent="Incorrect password.";
}

togglePassBtn.onclick=()=>{
  viewPasswordInput.type=viewPasswordInput.type==="password"?"text":"password";
};

editBtn.onclick=()=>{
  const pw=prompt("Enter edit password:");
  if(pw!==EDIT_PASSWORD) return alert("Wrong edit password.");
  isEditing=true;

  uploadPicBtn.style.display="inline-block";
  removePicBtn.style.display="inline-block";
  addSocialBtn.style.display="inline-block";
  removeSocialBtn.style.display="inline-block";
  doneBtn.style.display="inline-block";

  aboutText.contentEditable=true;
  contactText.contentEditable=true;
};

doneBtn.onclick=()=>{
  isEditing=false;

  uploadPicBtn.style.display="none";
  removePicBtn.style.display="none";
  addSocialBtn.style.display="none";
  removeSocialBtn.style.display="none";
  doneBtn.style.display="none";

  aboutText.contentEditable=false;
  contactText.contentEditable=false;

  saveState();
};

uploadPicBtn.onclick=()=>{
  const i=document.createElement("input");
  i.type="file"; i.accept="image/*";
  i.onchange=e=>{
    const f=e.target.files[0]; if(!f) return;
    const r=new FileReader();
    r.onload=ev=>{
      profilePic.src=ev.target.result;
      saveState();
    };
    r.readAsDataURL(f);
  };
  i.click();
};

removePicBtn.onclick=()=>{
  profilePic.src="";
  saveState();
};

addSocialBtn.onclick=()=>{
  const n=prompt("Platform name:"); if(!n) return;
  let u=prompt("URL:"); if(!u) return;
  u=normalizeUrl(u);
  const icon=detectIcon(n);
  appendSocial(n,u,icon);
  saveState();
};

removeSocialBtn.onclick=()=>{
  socialSelect.innerHTML="";
  document.querySelectorAll("#socialList .social-item").forEach(i=>{
    const opt=document.createElement("option");
    opt.value=i.querySelector(".s-name").innerText;
    opt.textContent=i.querySelector(".s-name").innerText;
    socialSelect.append(opt);
  });
  removeMenu.style.display="block";
};

confirmRemoveBtn.onclick=()=>{
  const name=socialSelect.value;
  document.querySelectorAll("#socialList .social-item").forEach(i=>{
    if(i.querySelector(".s-name").innerText===name) i.remove();
  });
  saveState();
  removeMenu.style.display="none";
};
cancelRemoveBtn.onclick=()=>removeMenu.style.display="none";

</script>

</body>
</html>
